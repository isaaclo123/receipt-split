(this["webpackJsonpreceipt-split"]=this["webpackJsonpreceipt-split"]||[]).push([[0],{71:function(e,t,n){},80:function(e,t,n){e.exports=n(97)},90:function(e,t,n){},91:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),l=n.n(c),o=n(16),u=n(21),s=n(36),i=n(33),m=n(73),p={username:"",login:!1,token:null},d={receipt:null},E={receipts:[]},f={user:null},h=Object(i.c)({loginState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=void 0===n?null:n,r=t.type;if(null==a)return e;switch(r){case"LOGIN_SUCCESS":console.log("SUCCESS");var c=a.username,l=a.token,o=void 0===l?"":l;return""===o?{username:c,login:!1,token:null}:{username:c,login:!0,token:o};case"LOGIN_FAIL":return console.log("FAIL"),{username:a.username,login:!1,token:null};default:return e}},receiptListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;if(null==n)return e;switch(console.log("RECIPET_LIST_PAYLOAD"),console.log(n),console.log("RECIPET_LIST_PAYLOAD"),a){case"RECEIPT_LIST_SUCCESS":return n;case"RECEIPT_LIST_FAIL":default:return e}},userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;if(null==n)return e;n.user;switch(console.log(n),a){case"USER_INFO_SUCCESS":case"USER_INFO_FAIL":return n;default:return e}},receiptState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;if(null==n)return e;switch(a){case"RECEIPT_SAVE_SUCCESS":return n;case"RECEIPT_SAVE_FAIL":return e;case"RECEIPT_SET":return console.log("RECEIPTSET"),console.log(n),n;case"RECEIPT_ID_SUCCESS":case"RECEIPT_ID_FAIL":return n;default:return e}}}),v=n(79),g=n(8),b=n.n(g),C=n(9),y=n(31),S=function(){var e=Object(y.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t,e.next=4,fetch("".concat("","/auth"),{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(y.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t,e.next=4,fetch("".concat("","/signup"),{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(y.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("","/receipt"),{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"JWT ".concat(t)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(y.a)(b.a.mark((function e(t,n,a){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("","/receipt/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(t)},body:JSON.stringify(a)});case 3:return r=e.sent,console.log(r),e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(y.a)(b.a.mark((function e(t,n){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("","/receipt/").concat(n),{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"JWT ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(y.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("","/user"),{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"JWT ".concat(t)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(b.a.mark((function e(t,n){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("","/friend/").concat(n),{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"JWT ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),I=b.a.mark(_),w=b.a.mark(R);function _(e){var t,n,a,r;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,c.next=4,Object(C.a)(S,t);case 4:return n=c.sent,a=t.username,r={username:a,token:n.access_token},console.log("LOGIN_SUCCESS"),console.log(t),c.next=11,Object(C.b)({type:"LOGIN_SUCCESS",payload:r});case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(0),c.next=17,Object(C.b)({type:"LOGIN_FAIL",token:""});case 17:case"end":return c.stop()}}),I,null,[[0,13]])}function R(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)("LOGIN_REQUEST",_);case 2:case"end":return e.stop()}}),w)}var U=b.a.mark(P),L=b.a.mark(A);function P(e){var t,n,a,r,c,l,o;return b.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t,u.prev=2,u.next=5,Object(C.a)(k,t);case 5:if(null!=u.sent){u.next=9;break}return u.next=9,Object(C.b)({type:"SIGNUP_FAIL",payload:n});case 9:return a=n.username,r=n.password,c={username:a,password:r},u.next=13,Object(C.a)(S,c);case 13:return l=u.sent,console.log(l),o={username:a,token:l.access_token},u.next=18,Object(C.b)({type:"LOGIN_SUCCESS",payload:o});case 18:u.next=24;break;case 20:return u.prev=20,u.t0=u.catch(2),u.next=24,Object(C.b)({type:"SIGNUP_FAIL",payload:n});case 24:case"end":return u.stop()}}),U,null,[[2,20]])}function A(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)("SIGNUP_REQUEST",P);case 2:case"end":return e.stop()}}),L)}var F=b.a.mark(B),D=b.a.mark(z),G=function(e){return e.loginState.token};function B(e){var t,n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("FETCHRECEIPTLISTWORKER"),e.prev=1,e.next=4,Object(C.c)(G);case 4:return t=e.sent,e.next=7,Object(C.a)(O,t);case 7:return n=e.sent,console.log("receiptListData"),console.log(n),a={receipts:n},e.next=13,Object(C.b)({type:"RECEIPT_LIST_SUCCESS",payload:a});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(1),r={receipts:[]},e.next=20,Object(C.b)({type:"RECEIPT_LIST_FAIL",payload:r});case 20:case"end":return e.stop()}}),F,null,[[1,15]])}function z(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)("RECEIPT_LIST_REQUEST",B);case 2:case"end":return e.stop()}}),D)}var H=b.a.mark(J),Q=b.a.mark(W),V=function(e){return e.loginState.token};function J(e){var t,n,a,r,c,l,o;return b.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.id,a=void 0===n?-1:n,u.prev=2,u.next=5,Object(C.c)(V);case 5:return r=u.sent,u.next=8,Object(C.a)(j,r,a);case 8:return c=u.sent,l={receipt:c},u.next=12,Object(C.b)({type:"RECEIPT_ID_SUCCESS",payload:l});case 12:u.next=19;break;case 14:return u.prev=14,u.t0=u.catch(2),o={receipt:null},u.next=19,Object(C.b)({type:"RECEIPT_ID_FAIL",payload:o});case 19:case"end":return u.stop()}}),H,null,[[2,14]])}function W(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)("RECEIPT_ID_REQUEST",J);case 2:case"end":return e.stop()}}),Q)}var Y=b.a.mark(M),$=b.a.mark(q),K=function(e){return e.loginState.token};function M(e){var t,n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("GETUSER ETCH"),e.prev=1,e.next=4,Object(C.c)(K);case 4:return t=e.sent,console.log("BEFORE FETCHUSER"),e.next=8,Object(C.a)(N,t);case 8:return n=e.sent,console.log(n),console.log("AFTER FETCHUSER"),a={user:n},console.log(a),e.next=15,Object(C.b)({type:"USER_INFO_SUCCESS",payload:a});case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(1),r={user:null},e.next=22,Object(C.b)({type:"USER_INFO_FAIL",payload:r});case 22:case"end":return e.stop()}}),Y,null,[[1,17]])}function q(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)("USER_INFO_REQUEST",M);case 2:case"end":return e.stop()}}),$)}var X=b.a.mark(te),Z=b.a.mark(ne),ee=function(e){return e.loginState.token};function te(e){var t,n,a,r,c,l,o;return b.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.id,a=void 0===n?-1:n,u.prev=2,u.next=5,Object(C.c)(ee);case 5:return r=u.sent,u.next=8,Object(C.a)(x,r,a,t);case 8:return c=u.sent,l={receipt:c},u.next=12,Object(C.b)({type:"RECEIPT_SAVE_SUCCESS",payload:l});case 12:u.next=19;break;case 14:return u.prev=14,u.t0=u.catch(2),o={receipt:null},u.next=19,Object(C.b)({type:"RECEIPT_SAVE_FAIL",payload:o});case 19:case"end":return u.stop()}}),X,null,[[2,14]])}function ne(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)("RECEIPT_SAVE_REQUEST",te);case 2:case"end":return e.stop()}}),Z)}n(90),n(91),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=n(18),re=n(74),ce=Object(o.b)((function(e){return e}),{})((function(e){if(console.log(e),null==e.loginState||!1===e.loginState.login)return r.a.createElement(s.c,{to:"/login"});e.loginState;var t=Object(re.a)(e,["loginState"]);return r.a.createElement(s.d,t)})),le=n(30),oe=n(42),ue=n(60),se=function(e){var t=e.match;return r.a.createElement(ue.a,{variant:"dark",bg:"dark"},r.a.createElement(ue.a.Brand,null,"Receipt Split App"),r.a.createElement(ue.a.Collapse,null,r.a.createElement(oe.a,{className:"mr-auto"}),r.a.createElement(oe.a,null,r.a.createElement(le.LinkContainer,{to:"".concat(t.url,"/balances")},r.a.createElement(oe.a.Link,null,"Balances")),r.a.createElement(le.LinkContainer,{to:"".concat(t.url,"/receipts")},r.a.createElement(oe.a.Link,null,"Receipts")),r.a.createElement(le.LinkContainer,{to:"".concat(t.url,"/people")},r.a.createElement(oe.a.Link,null,"People")))))},ie=n(15),me=function(){return function(e){console.log("GETUSER"),e({type:"USER_INFO_REQUEST"})}},pe=n(77),de=n(17),Ee=function(e){var t=e.prefix,n=e.amount,a=e.variant,c=e.name,l=e.descriptor,o=e.handleClick,u=e.buttons,s=e.active;return r.a.createElement(ie.a.Item,{style:{lineHeight:"2rem"}},r.a.createElement("span",null,r.a.createElement("span",{className:"text-".concat(a)},t,"$",n.toFixed(2)),"\xa0",l,"\xa0",r.a.createElement("span",{className:"text-primary",onClick:function(){return o()}},c)),r.a.createElement("span",{className:"text-danger float-right"},r.a.createElement(pe.a,{size:"sm"},u.map((function(e){var t=e.variant,n=e.text,a=e.handleClick;return s?r.a.createElement(de.a,{className:"btn btn-".concat(t),onClick:function(){return a()},active:!0},n):r.a.createElement(de.a,{className:"btn btn-".concat(t),onClick:function(){return a()},disabled:!0},n)})))))},fe=function(e){var t=e.amount,n=e.name,a=e.pending,c=e.handleNameClick,l=(e.handleAcceptClick,e.handleRejectClick,{prefix:"+",variant:"success",amount:t,descriptor:"from",name:n,handleClick:c,buttons:[],active:a});return r.a.createElement(Ee,l)},he=function(e){var t=e.amount,n=e.name,a=e.pending,c=e.handleNameClick,l=(e.handlePayClick,{prefix:"-",variant:"danger",amount:t,descriptor:"to",name:n,handleClick:c,buttons:[],active:a});return r.a.createElement(Ee,l)},ve=Object(o.b)((function(e){return e}),{getUser:me})((function(e){e.match;var t=e.userState,n=e.getUser,c=(e.loginState,Object(a.useState)(!0)),l=Object(ae.a)(c,2),o=l[0],u=l[1];if(o&&(u(!1),n()),null==t)return r.a.createElement(s.c,{to:"/app"});var i=t.user;if(null==i)return r.a.createElement("div",null,"loading");i.friends,i.username,i.fullname;var m=i.balances_to_user,p=i.balances_from_user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"You are Owed"),r.a.createElement(ie.a,{className:"mb-3"},(null==m||m.length<=0)&&r.a.createElement(ie.a.Item,null,r.a.createElement("span",{className:"text-secondary"},"None")),m.map((function(e){var n=e.amount,a=e.from_user;if(null!=a.id&&a.id==t.user.id)return r.a.createElement(r.a.Fragment,null);var c={handleNameClick:function(){},handleAcceptClick:function(){},handleRejectClick:function(){},amount:n,name:null==a.fullname?"Unknown":a.fullname,pending:!0};return r.a.createElement(fe,c)}))),r.a.createElement("h5",null,"You Should Pay"),r.a.createElement(ie.a,{className:"mb-3"},(null==p||p.length<=0)&&r.a.createElement(ie.a.Item,null,r.a.createElement("span",{className:"text-secondary"},"None")),p.map((function(e){var n=e.amount,a=e.to_user;if(null!=a.id&&a.id==t.user.id)return r.a.createElement(r.a.Fragment,null);var c={handleNameClick:function(){},handlePayClick:function(){},amount:n,name:null==a.fullname?"Unknown":a.fullname,pending:!0};return r.a.createElement(he,c)}))))})),ge=function(){return function(e){console.log("GETRECEIPTLIST"),e({type:"RECEIPT_LIST_REQUEST"})}},be=function(e){return function(t){console.log("getReceipt"),console.log(e),t({type:"RECEIPT_ID_REQUEST",payload:e})}},Ce=function(e){var t=e.amount,n=e.name,a=e.pending,c=e.handleNameClick,l=(e.handleViewClick,{prefix:"*",variant:"info",amount:t,descriptor:"at",name:n,handleClick:c,buttons:[],active:a});return r.a.createElement(Ee,l)},ye=Object(o.b)((function(e){return e}),{getReceiptList:ge})((function(e){var t=e.match,n=e.receiptListState,c=e.getReceiptList,l=Object(a.useState)({redirect:!1,id:-1}),o=Object(ae.a)(l,2),u=o[0],i=o[1],m=Object(a.useState)(!0),p=Object(ae.a)(m,2),d=p[0],E=p[1];if(d&&(E(!1),c()),u.redirect)return r.a.createElement(s.c,{to:"".concat(t.url,"/edit/").concat(u.id)});if(null==n)return r.a.createElement(s.c,{to:"/app"});var f=function(e){i({redirect:!0,id:e})},h=n.receipts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"align-middle"},r.a.createElement("h5",{className:"float-left"},"My Receipts"),r.a.createElement(le.LinkContainer,{to:"".concat(t.url,"/edit/-1")},r.a.createElement("span",{className:"float-right text-primary"},"+ New"))),r.a.createElement("br",null),r.a.createElement("h5",null),r.a.createElement(ie.a,{className:"mb-3"},(null==h||h.length<=0)&&r.a.createElement(ie.a.Item,null,r.a.createElement("span",{className:"text-secondary"},"None")),h.map((function(e){var t=e.name,n=void 0===t?"":t,a=e.amount,c=void 0===a?-1:a,l=(e.date,e.id),o=void 0===l?-1:l;console.log("ID ".concat(o));var u={pending:!0,handleNameClick:function(){f(o)},handleViewClick:function(){f(o)},amount:c,name:n};return r.a.createElement(Ce,Object.assign({key:o},u))}))))})),Se=n(47),ke=n(78),Oe=n(12),xe={name:"New Receipt Item",amount:0,users:[]},je=n(28),Ne=function(e){var t=e.show,n=e.onHide,a=e.users,c=e.title,l=e.onUserSelect;return r.a.createElement(je.a,{show:t,onHide:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(je.a.Header,{style:{borderBottom:0}},r.a.createElement(je.a.Title,{id:"contained-modal-title-vcenter"},c)),r.a.createElement(ie.a,null,(null==a||a.length<=0)&&r.a.createElement(ie.a.Item,null,r.a.createElement("span",{className:"text-secondary"},"None")),null!=a&&a.map((function(e){var t=e.username,a=void 0===t?"":t,c=e.fullname,o=void 0===c?"":c;e.id;return r.a.createElement(ie.a.Item,{onClick:function(){l(e),n()}},r.a.createElement("span",{className:"float-left"},o),r.a.createElement("span",{className:"float-right"},"(",a,")"))}))),r.a.createElement(je.a.Footer,{style:{borderTop:0}},r.a.createElement(de.a,{onClick:n},"Close")))},Te=n(46),Ie=(n(95),function(e){var t=e.items,n=e.handleItemClick,a=e.handleDeleteClick,c=e.handleAddClick;return t&&t.length?r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{className:"item-badge",variant:"primary",pill:!0},r.a.createElement("span",{onClick:function(){return n(t)}},e),"\xa0",r.a.createElement("span",{onClick:function(){return a(t)},className:"item-badge-delete"},"\xd7")))})),r.a.createElement(Te.a,{onClick:function(){return c()},variant:"primary",pill:!0},"+")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{variant:"secondary",pill:!0},"Nobody"),r.a.createElement(Te.a,{onClick:function(){return c()},variant:"secondary",pill:!0},"+"))}),we=function(e){var t=e.handleTextChange,n=e.size,c=void 0===n?30:n,l=(e.type,e.value),o=e.pattern,u=void 0===o?"":o,s=e.handleValidate,i=void 0===s?function(e){return!0}:s,m=Object(a.useState)(!0),p=Object(ae.a)(m,2),d=p[0],E=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){E(!1)},style:{display:d?"inline":"none"}},l),r.a.createElement("input",{size:c,style:{display:d?"none":"inline"},pattern:u,value:l,onChange:function(e){i(e.currentTarget.value)&&t(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&E(!0)},onBlur:function(){E(!0)}}))},_e=function(e){var t=e.name,n=e.handleNameChange,a=e.amount,c=void 0===a?0:a,l=e.handleAmountChange,o=e.users,u=void 0===o?[]:o,s=e.handleUserClick,i=e.handleDeleteUserClick,m=e.handleAddUserClick,p=e.extraComponent,d=void 0===p?null:p,E=e.variant,f=void 0===E?"info":E,h=e.prefix,v=void 0===h?"":h,g=e.handleDeleteClick;return r.a.createElement(Oe.a,{className:"mb-3"},r.a.createElement(Oe.a.Body,null,r.a.createElement(Oe.a.Title,null,r.a.createElement("span",{className:"float-left"},r.a.createElement(we,{size:40,type:"text",value:t,handleTextChange:n})),r.a.createElement("span",{className:"text-".concat(f," float-right")},v,"$",r.a.createElement(we,{size:10,type:"number",value:null!=c?c.toFixed(2):"0.00",pattern:"^(\\d*\\.)?\\d+$",handleValidate:function(e){var t=Number(e);return!Number.isNaN(t)&&t>0},handleTextChange:function(e){var t=Number(Number(e).toFixed(2));console.log(t),l(t)}})),r.a.createElement("br",null)),r.a.createElement(Oe.a.Subtitle,{className:"mb-2 text-muted"}),r.a.createElement(Oe.a.Text,null,d,r.a.createElement("span",{className:"float-left"},r.a.createElement("span",{className:"align-middle"},"With\xa0"),r.a.createElement(Ie,{items:u.map((function(e){var t=e.fullname;return void 0===t?"":t})),handleItemClick:s,handleDeleteClick:i,handleAddClick:m})),r.a.createElement("span",{className:"float-right"},r.a.createElement(de.a,{variant:"outline-light",className:"close",onClick:g},"\xd7")))))};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Object(ke.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=Object(o.b)((function(e){var t=e.receiptState,n=e.userState;return{people:n.user.friends.concat(n.user),receiptState:t,userState:n}}),{getReceipt:be,setReceipt:function(e){return function(t){console.log("setReceipt"),console.log(e),t({type:"RECEIPT_SET",payload:{receipt:e}})}},saveReceipt:function(e){return function(t){console.log("saveReceipt"),console.log(e),t({type:"RECEIPT_SAVE_REQUEST",payload:e})}},getUser:me})((function(e){var t=e.match,n=(e.userState,e.receiptState),c=e.setReceipt,l=e.saveReceipt,o=e.getReceipt,u=e.getUser,i=e.people,m=Object(a.useState)(!0),p=Object(ae.a)(m,2),d=p[0],E=p[1],f=[],h=Object(a.useState)({show:!1,addedusers:f,modalcallback:function(e){}}),v=Object(ae.a)(h,2),g=v[0],b=v[1],C=g.show,y=g.addedusers,S=g.modalcallback,k=Number(t.params.id)||-1;if(console.log("RECEIPTID"),console.log(k),console.log("RECEIPTID"),d&&(o({id:k}),E(!1)),console.log(n),null==n||null==n.receipt)return r.a.createElement(s.c,{to:"".concat(t.url,"/receipts")});var O,x,j=n.receipt,N=j.id,T=void 0===N?-1:N,I=j.balances,w=void 0===I?[]:I,_=j.name,R=j.amount,U=j.user,L=j.users,P=void 0===L?[]:L,A=j.receipt_items,F=void 0===A?[]:A,D=j.date,G=function(e,t){return e.filter((function(e,n){return n!==t}))},B=function(e,t,n){return[].concat(Object(Se.a)(e.slice(0,n)),[t],Object(Se.a)(e.slice(n+1)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{show:C,onHide:function(){b(Ue({},g,{show:!1}))},users:(O=i,x=y,O.filter((function(e){for(var t=0;t<x.length;t++)if(e.id===x[t].id)return!1;return!0}))),title:"Friends",onUserSelect:S}),r.a.createElement("div",{className:"align-middle mb-3"},r.a.createElement("h5",{className:"float-left m-0 p-0",style:{display:"inline",lineHeight:"2rem"}},"Receipt Info"),r.a.createElement(de.a,{size:"sm",className:"float-right",onClick:function(){!function(){var e=Ue({},n.receipt,{id:T});console.log("PAYLOADkjyyp"),console.log(e),console.log("PAYLOADkjyyp"),l(n.receipt),u(),console.log("GOT USER")}()}},"SAVE")),r.a.createElement("br",null),r.a.createElement(_e,{extraComponent:r.a.createElement(r.a.Fragment,null,"Paid by ",r.a.createElement("span",{className:"text-primary"},null==U?"Unknown":U.fullname)," on \xa0",r.a.createElement(we,{size:40,type:"text",value:D,handleTextChange:function(e){c(Ue({},j,{date:e}))}}),r.a.createElement("br",null)),prefix:"*",variant:"info",name:_,handleNameChange:function(e){c(Ue({},j,{name:e})),console.log(e)},amount:R,handleAmountChange:function(e){c(Ue({},j,{amount:e}))},handleDeleteClick:function(){alert("delete")},users:P,handleUserClick:function(){},handleDeleteUserClick:function(e){c(Ue({},j,{users:G(P,e)}))},handleAddUserClick:function(){b({show:!0,addedusers:P,modalcallback:function(e){c(Ue({},j,{users:P.concat([e])}))}})}}),r.a.createElement("div",{className:"align-middle"},r.a.createElement("h5",{className:"float-left"},"Sub-expenses"),r.a.createElement("span",{className:"float-right text-primary",onClick:function(){c(Ue({},j,{receipt_items:[xe].concat(F)}))}},"+ Add Item")),r.a.createElement("br",null),r.a.createElement("h5",null),(null==F||F.length<=0)&&r.a.createElement(Oe.a,{className:"mb-3"},r.a.createElement(Oe.a.Body,null,r.a.createElement(Oe.a.Title,null,r.a.createElement("span",{className:"float-left text-secondary"},"None")))),null!=F&&F.map((function(e,t){var n=e.name,a=e.amount,l=e.users,o=void 0===l?f:l;return r.a.createElement(_e,{prefix:"-",variant:"danger",name:n,handleNameChange:function(e){c(Ue({},j,{receipt_items:B(F,Ue({},F[t],{name:e}),t)}))},amount:a,handleAmountChange:function(e){c(Ue({},j,{receipt_items:B(F,Ue({},F[t],{amount:e}),t)}))},users:o,handleDeleteClick:function(){var e,n;c(Ue({},j,{receipt_items:(e=F,n=t,[].concat(Object(Se.a)(e.slice(0,n)),Object(Se.a)(e.slice(n+1))))}))},handleUserClick:function(e){},handleDeleteUserClick:function(e){var t=G(o,e);c(Ue({},j,{receipt_items:B(F,Ue({},F[e],{users:t}),e)}))},handleAddUserClick:function(){b({show:!0,addedusers:o,modalcallback:function(e){c(Ue({},j,{receipt_items:B(F,Ue({},F[t],{users:o.concat([e])}),t)}))}})}})})),r.a.createElement("h5",null,"Balance"),(null==w||w===[])&&r.a.createElement("div",null,"None"),w.map((function(e){var t=e.to_user,n=e.from_user,a=e.amount;return r.a.createElement(Oe.a,{className:"mb-3"},r.a.createElement(Oe.a.Body,null,r.a.createElement(Oe.a.Title,null,r.a.createElement("span",{className:"float-left"},r.a.createElement("span",{className:"text-primary"},n.fullname)," pays ",r.a.createElement("span",{className:"text-primary"},t.fullname)),r.a.createElement("span",{className:"text-info float-right"},"$",a.toFixed(2)))))})))})),Pe=n(13),Ae=n(57),Fe=n(66),De=Object(o.b)((function(e){return e}),{getUser:me})((function(e){e.match;var t=e.userState,n=e.getUser,c=e.loginState,l=Object(a.useState)(""),o=Object(ae.a)(l,2),u=o[0],i=o[1],m=Object(a.useState)(""),p=Object(ae.a)(m,2),d=p[0],E=p[1],f=Object(a.useState)(!0),h=Object(ae.a)(f,2),v=h[0],g=h[1],C=Object(a.useState)(!0),S=Object(ae.a)(C,2),k=S[0],O=S[1],x=c.token,j=void 0===x?"":x,N=function(){var e=Object(y.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(j,u);case 2:if(t=e.sent,console.log(t),null==t.error){e.next=7;break}return E(t.error),e.abrupt("return");case 7:if(null!=t){e.next=10;break}return E("Api result invalid"),e.abrupt("return");case 10:console.log(t),g(!0),n();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(k&&(O(!1),n()),null==t)return r.a.createElement(s.c,{to:"/app"});var I=t.user;if(null==I)return r.a.createElement("div",null,"loading");var w=I.friends,_=I.username,R=I.fullname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{show:!v,onHide:function(){i(""),E(""),g(!0)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(je.a.Header,{closeButton:!0},r.a.createElement(je.a.Title,{id:"contained-modal-title-vcenter"},"Add Friend")),r.a.createElement(je.a.Body,null,r.a.createElement(Fe.a,{className:"mb-3"},r.a.createElement(Ae.a,{"aria-describedby":"basic-input",isInvalid:""!==d,value:u,onChange:function(e){i(e.currentTarget.value)}}),r.a.createElement(Fe.a.Append,null,r.a.createElement(de.a,{variant:"outline-primary",onClick:function(){N()}},"Add")),r.a.createElement(Pe.a.Control.Feedback,{type:"invalid"},d))),r.a.createElement(je.a.Footer,null,r.a.createElement(de.a,{onClick:function(){return g(!0)}},"Close"))),r.a.createElement("h5",null,"User Info"),r.a.createElement(ie.a,{className:"mb-3"},r.a.createElement(ie.a.Item,null,r.a.createElement("span",{className:"float-left"},r.a.createElement("span",{className:"text-primary"},R)),r.a.createElement("span",{className:"float-right"},"(",_,")"))),r.a.createElement("div",{className:"align-middle"},r.a.createElement("h5",{className:"float-left"},"Friends"),r.a.createElement("span",{className:"text-primary float-right",onClick:function(){return g(!1)}},"+ Add Friends")),r.a.createElement("br",null),r.a.createElement("h5",null),r.a.createElement(ie.a,{className:"mb-3"},(null==w||w.length<=0)&&r.a.createElement(ie.a.Item,null,r.a.createElement("span",{className:"text-secondary"},"None")),null!=w&&w.map((function(e){var t=e.username,n=void 0===t?"":t,a=e.fullname,c=void 0===a?"":a;e.id;return r.a.createElement(ie.a.Item,null,r.a.createElement("span",{className:"float-left"},r.a.createElement("span",{className:"text-primary"},c)),r.a.createElement("span",{className:"float-right"},"(",n,")"))}))))})),Ge=(n(96),Object(o.b)(null,{getReceipt:be,getReceiptList:ge,getUser:me})((function(e){var t=e.match,n=e.getUser,c=(e.getReceipt,e.getReceiptList,Object(a.useState)(!0)),l=Object(ae.a)(c,2),o=l[0],u=l[1];return o&&(u(!1),n()),r.a.createElement(r.a.Fragment,null,r.a.createElement(se,e),r.a.createElement("div",{className:"container pt-3 h-100"},r.a.createElement(s.g,null,r.a.createElement(ce,{path:"".concat(t.path,"/balance"),component:ve}),r.a.createElement(ce,{path:"".concat(t.path,"/receipts/edit/:id"),component:Le}),r.a.createElement(ce,{path:"".concat(t.path,"/receipts"),component:ye}),r.a.createElement(ce,{path:"".concat(t.path,"/people"),component:De}),r.a.createElement(s.c,{to:"".concat(t.url,"/balance")}))))}))),Be=(n(71),Object(o.b)((function(e){return e}),{setLogin:function(e){return function(t){t({type:"LOGIN_REQUEST",payload:e})}}})((function(e){var t=e.loginState,n=e.setLogin;if(t.login)return r.a.createElement(s.c,{to:"/app"});var a={username:"",password:""};return r.a.createElement("div",{className:"login-container"},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Body,null,r.a.createElement(Oe.a.Title,null,"Login"),r.a.createElement(Pe.a,null,r.a.createElement(Pe.a.Group,{controlId:"formUsername"},r.a.createElement(Pe.a.Label,null,"Username"),r.a.createElement(Pe.a.Control,{type:"email",placeholder:"Username",onChange:function(e){a={username:e.currentTarget.value,password:a.password}}})),r.a.createElement(Pe.a.Group,{controlId:"formPassword"},r.a.createElement(Pe.a.Label,null,"Password"),r.a.createElement(Pe.a.Control,{type:"password",placeholder:"Password",onKeyPress:function(e){"Enter"===e.key&&n(a)},onChange:function(e){a={username:a.username,password:e.currentTarget.value}}})),r.a.createElement("span",null,r.a.createElement(de.a,{onClick:function(){n(a)},className:"float-left"},"Login"),r.a.createElement(le.LinkContainer,{to:"/signup",className:"float-right"},r.a.createElement(de.a,null,"Signup")))))))}))),ze=Object(o.b)((function(e){return{loginState:e.loginState,signupState:e.signupState}}),{setSignup:function(e){return function(t){console.log(e),t({type:"SIGNUP_REQUEST",payload:e})}}})((function(e){e.signupState;var t=e.setSignup;if(e.loginState.login)return r.a.createElement(s.c,{to:"/app"});var n={username:"",password:"",fullname:""};return r.a.createElement("div",{className:"login-container"},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Body,null,r.a.createElement(Oe.a.Title,null,"Signup"),r.a.createElement(Pe.a,null,r.a.createElement(Pe.a.Group,{controlId:"formUsername"},r.a.createElement(Pe.a.Label,null,"Username"),r.a.createElement(Pe.a.Control,{type:"email",placeholder:"Username",onChange:function(e){n={username:e.currentTarget.value,fullname:n.fullname,password:n.password}}})),r.a.createElement(Pe.a.Group,{controlId:"formFullname"},r.a.createElement(Pe.a.Label,null,"Full Name"),r.a.createElement(Pe.a.Control,{type:"text",placeholder:"Full Name",onChange:function(e){n={username:n.username,fullname:e.currentTarget.value,password:n.password}}})),r.a.createElement(Pe.a.Group,{controlId:"formPassword"},r.a.createElement(Pe.a.Label,null,"Password"),r.a.createElement(Pe.a.Control,{type:"password",placeholder:"Password",onChange:function(e){n={username:n.username,fullname:n.fullname,password:e.currentTarget.value}}})),r.a.createElement("span",null,r.a.createElement(le.LinkContainer,{to:"/login",className:"float-left"},r.a.createElement(de.a,null,"Login")),r.a.createElement(de.a,{onClick:function(){console.log(n),t(n)},className:"float-right"},"Signup"))))))}));l.a.render(r.a.createElement(o.a,{store:function(){var e=Object(v.a)(),t=Object(i.e)(h,Object(i.a)(m.a,e));return e.run(R),e.run(A),e.run(z),e.run(W),e.run(q),e.run(ne),t}()},r.a.createElement(u.HashRouter,null,r.a.createElement(ce,{exact:!0,path:"/",component:Be}),r.a.createElement(s.d,{path:"/login",component:Be}),r.a.createElement(s.d,{path:"/signup",component:ze}),r.a.createElement(ce,{path:"/app",component:Ge}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[80,1,2]]]);
//# sourceMappingURL=main.31bc60f9.chunk.js.map